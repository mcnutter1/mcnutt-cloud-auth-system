(()=>{const m=document.getElementById('f-mode');if(!m)return;const gp=document.getElementById('group-pass'),gm=document.getElementById('group-magic'),u=document.getElementById('f-user'),p=document.getElementById('f-pass'),k=document.getElementById('f-mkey');const sync=()=>{const pm=m.value==='password';gp&&gp.classList.toggle('d-none',!pm);gm&&gm.classList.toggle('d-none',pm);if(u)u.required=pm;if(p)p.required=pm;if(k)k.required=!pm;};m.addEventListener('change',sync);sync();})();
